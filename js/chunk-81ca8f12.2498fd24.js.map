{"version":3,"sources":["webpack:///./src/components/admin/DeleteModal.vue","webpack:///./src/components/admin/DeleteModal.vue?351a","webpack:///./src/views/admin/Orders.vue","webpack:///./src/components/admin/OrderModal.vue","webpack:///./src/components/admin/OrderModal.vue?2efc","webpack:///./src/views/admin/Orders.vue?1e9b","webpack:///./src/components/admin/OrderModal.vue?1e5d"],"names":["class","id","tabindex","role","aria-labelledby","aria-hidden","ref","type","data-bs-dismiss","aria-label","item","title","$emit","data","modal","props","mounted","this","$refs","keyboard","methods","openModal","show","hideModal","hide","render","width","active","isLoading","orderList","order","key","create_at","user","name","email","total","is_paid","style","paidChange","length","page-info","pageInfo","getOrder","tempOrder","modifyOrder","deleteOrder","for","colspan","orderInfo","disabled","autocomplete","checked","placeholder","tel","address","message","products","product","src","imageUrl","alt","qty","price","Object","default","watch","__scopeId","total_pages","current_page","has_pre","has_next","components","pagination","orderModal","deleteModal","page","$http","get","then","response","success","orders","$moshaToast","showIcon","position","catch","error","console","log","action","JSON","parse","stringify","errorCount","setTimeout","editOrder","updateOrder","orderId","callback","put","delete","created"],"mappings":"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","file":"js/chunk-81ca8f12.2498fd24.js","sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    id=\"deleteModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">刪除確認</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">您確定要刪除 {{ item.title }} 嗎？</div>\n        <div class=\"modal-footer\">\n          <button class=\"btn btn-secondary\" type=\"button\" data-bs-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('confirm', item.id)\">\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  props: ['item'],\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n    });\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n};\n</script>\n","import { render } from \"./DeleteModal.vue?vue&type=template&id=0d07159c\"\nimport script from \"./DeleteModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container-fluid\">\n    <loading :active=\"isLoading\"/>\n    <!-- Page Heading -->\n    <div class=\"d-sm-flex align-items-center justify-content-between mb-4\">\n      <h1 class=\"h3 mb-0 text-gray-800\"><i class=\"fas fa-shopping-cart\"></i> 訂單管理</h1>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <div class=\"card shadow mb-4\">\n          <div class=\"card-header py-3\">\n            <h6 class=\"m-0 font-weight-bold text-primary\">訂單列表</h6>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-responsive\">\n              <table class=\"table mt-4\">\n                <thead>\n                  <tr>\n                    <th width=\"20%\" class=\"text-center\">訂單編號</th>\n                    <th width=\"15%\">收件人姓名</th>\n                    <th width=\"15%\">收件人信箱</th>\n                    <th width=\"10%\" class=\"text-end\">金額</th>\n                    <th width=\"10%\" class=\"text-center\">付款狀態</th>\n                    <th width=\"8%\" class=\"text-center\">編輯</th>\n                    <th width=\"8%\" class=\"text-center\">刪除</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"order in orderList\" :key=\"order.id\">\n                    <td class=\"text-center\">\n                      {{ order.create_at }}\n                    </td>\n                    <td>\n                      {{ order.user.name }}\n                    </td>\n                    <td>\n                      {{ order.user.email }}\n                    </td>\n                    <td class=\"text-end\">\n                      {{ order.total }}\n                    </td>\n                    <td class=\"text-center\">\n                      <span\n                        class=\"badge pointer\"\n                        :class=\"order.is_paid ? 'bg-success' : 'bg-secondary'\"\n                        style=\"font-size:1em;\"\n                        @click=\"paidChange(order)\"\n                      >\n                        {{ order.is_paid ? '已付款' : '未付款' }}\n                      </span>\n                    </td>\n                    <td class=\"text-center\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-sm btn-outline-success move\"\n                        @click=\"openModal('update', order)\"\n                      >\n                        編輯\n                      </button>\n                    </td>\n                    <td class=\"text-center\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-sm btn-outline-danger move\"\n                        @click=\"openModal('delete', order)\"\n                      >\n                        刪除\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"text-center\">\n              <p>\n                目前有 <span id=\"productCount\">{{ orderList.length }}</span> 筆訂單\n              </p>\n            </div>\n            <pagination :page-info=\"pageInfo\" @page-change=\"getOrder\"></pagination>\n          </div>\n        </div>\n      </div>\n    </div>\n    <order-modal :order=\"tempOrder\" @modify-order=\"modifyOrder\" ref=\"orderModal\"></order-modal>\n    <delete-modal :item=\"tempOrder\" @confirm=\"deleteOrder\" ref=\"deleteModal\"></delete-modal>\n  </div>\n</template>\n\n<script>\nimport pagination from '@/components/common/Pagination.vue';\nimport orderModal from '@/components/admin/OrderModal.vue';\nimport deleteModal from '@/components/admin/DeleteModal.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      orderList: [],\n      tempOrder: {\n        user: {},\n        products: [],\n      },\n      pageInfo: {\n        total_pages: 1,\n        current_page: 1,\n        has_pre: false,\n        has_next: false,\n      },\n    };\n  },\n  components: {\n    pagination,\n    orderModal,\n    deleteModal,\n  },\n  methods: {\n    getOrder(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/admin/orders?page=${page}`,\n        )\n        .then((response) => {\n          this.isLoading = false;\n          if (response.data.success) {\n            this.orderList = response.data.orders;\n            this.pageInfo = response.data.pagination;\n          } else {\n            this.$moshaToast(response.data.message, {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    openModal(action, order) {\n      switch (action) {\n        case 'update':\n          this.tempOrder = JSON.parse(JSON.stringify(order));\n          this.$refs.orderModal.openModal();\n          break;\n        case 'delete':\n          this.tempOrder = JSON.parse(JSON.stringify(order));\n          this.tempOrder.title = `訂單編號：${order.create_at}`;\n          this.$refs.deleteModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n    modifyOrder() {\n      let errorCount = 0;\n\n      if (!this.tempOrder.user) {\n        errorCount += 1;\n        this.$moshaToast('請填寫收件人資訊', {\n          type: 'danger',\n          showIcon: true,\n          position: 'bottom-right',\n        });\n      } else {\n        if (!this.tempOrder.user.email) {\n          errorCount += 1;\n          setTimeout(() => {\n            this.$moshaToast('請填寫Email', {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n          }, 1);\n        }\n\n        if (!this.tempOrder.user.name) {\n          errorCount += 1;\n          setTimeout(() => {\n            this.$moshaToast('請填寫收件人名稱', {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n          }, 1);\n        }\n\n        if (!this.tempOrder.user.tel) {\n          errorCount += 1;\n          setTimeout(() => {\n            this.$moshaToast('請填寫收件人電話', {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n          }, 1);\n        }\n\n        if (!this.tempOrder.user.address) {\n          errorCount += 1;\n          setTimeout(() => {\n            this.$moshaToast('請填寫收件人地址', {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n          }, 1);\n        }\n      }\n\n      if (errorCount === 0) {\n        const order = {\n          data: {\n            user: this.tempOrder.user,\n            is_paid: this.tempOrder.is_paid,\n          },\n        };\n        this.editOrder(this.tempOrder.id, order, () => {\n          this.$refs.orderModal.hideModal();\n        });\n      }\n    },\n    paidChange(order) {\n      const updateOrder = {\n        data: {\n          is_paid: !order.is_paid,\n        },\n      };\n      this.editOrder(order.id, updateOrder);\n    },\n    editOrder(orderId, order, callback) {\n      this.isLoading = true;\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/admin/order/${orderId}`,\n          order,\n        )\n        .then((response) => {\n          if (response.data.success) {\n            this.$moshaToast(response.data.message, {\n              type: 'success',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n            this.getOrder();\n          } else {\n            this.$moshaToast(response.data.message, {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n            this.isLoading = false;\n          }\n\n          if (callback) {\n            callback();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteOrder(orderId) {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/admin/order/${orderId}`,\n        )\n        .then((response) => {\n          if (response.data.success) {\n            this.$refs.deleteModal.hideModal();\n            this.$moshaToast(response.data.message, {\n              type: 'success',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n            this.getOrder();\n          } else {\n            this.$moshaToast(response.data.message, {\n              type: 'danger',\n              showIcon: true,\n              position: 'bottom-right',\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  created() {\n    this.getOrder();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"orderModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"orderModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h5 class=\"modal-title\" id=\"orderModalLabel\">更新訂單資訊</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-12\">\n              <div class=\"row\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"name\" class=\"form-label\">訂單編號</label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"orderInfo.create_at\"\n                    disabled\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <div class=\"mb-2\">付款狀態</div>\n                  <div class=\"btn-group\" role=\"group\" aria-label=\"Basic radio toggle button group\">\n                    <input\n                      type=\"radio\"\n                      class=\"btn-check\"\n                      name=\"btnradio\"\n                      id=\"is_paid\"\n                      autocomplete=\"off\"\n                      :checked=\"orderInfo.is_paid\"\n                      @click=\"orderInfo.is_paid = true\"\n                    />\n                    <label class=\"btn btn-outline-success\" for=\"is_paid\">已付款</label>\n\n                    <input\n                      type=\"radio\"\n                      class=\"btn-check\"\n                      name=\"btnradio\"\n                      id=\"not_paid\"\n                      autocomplete=\"off\"\n                      :checked=\"!orderInfo.is_paid\"\n                      @click=\"orderInfo.is_paid = false\"\n                    />\n                    <label class=\"btn btn-outline-secondary\" for=\"not_paid\">尚未付款</label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"userEmail\" class=\"form-label\"\n                    >Email<span class=\"text-red\">&nbsp;*</span></label\n                  >\n                  <input\n                    id=\"userEmail\"\n                    type=\"email\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入Email\"\n                    v-model=\"orderInfo.user.email\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"userName\" class=\"form-label\"\n                    >收件人名稱<span class=\"text-red\">&nbsp;*</span></label\n                  >\n                  <input\n                    id=\"userName\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入收件人名稱\"\n                    v-model=\"orderInfo.user.name\"\n                  />\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"userTel\" class=\"form-label\"\n                    >收件人電話<span class=\"text-red\">&nbsp;*</span></label\n                  >\n                  <input\n                    id=\"userTel\"\n                    type=\"tel\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入收件人電話\"\n                    v-model=\"orderInfo.user.tel\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"userAddress\" class=\"form-label\"\n                    >收件人地址<span class=\"text-red\">&nbsp;*</span></label\n                  >\n                  <input\n                    id=\"userAddress\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入收件人地址\"\n                    v-model=\"orderInfo.user.address\"\n                  />\n                </div>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"message\" class=\"form-label\">留言</label>\n                <textarea\n                  id=\"message\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"orderInfo.message\"\n                  disabled\n                ></textarea>\n              </div>\n              <hr />\n              <div class=\"table-responsive\">\n                商品明細\n                <table class=\"table product-list\">\n                  <thead>\n                    <tr>\n                      <th width=\"10%\" class=\"text-center\">商品圖片</th>\n                      <th width=\"15%\">品名</th>\n                      <th width=\"15%\">數量</th>\n                      <th width=\"10%\" class=\"text-end\">單價</th>\n                      <th width=\"10%\" class=\"text-end\">總價</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(product, id) in orderInfo.products\" :key=\"id\">\n                      <td class=\"text-center\">\n                        <img :src=\"product.product.imageUrl\" :alt=\"product.product.title\" />\n                      </td>\n                      <td>\n                        {{ product.product.title }}\n                      </td>\n                      <td>\n                        {{ product.qty }}\n                      </td>\n                      <td class=\"text-end\">\n                        {{ product.product.price }}\n                      </td>\n                      <td class=\"text-end\">\n                        {{ product.total }}\n                      </td>\n                    </tr>\n                  </tbody>\n                  <tfoot>\n                    <tr>\n                      <td colspan=\"4\" class=\"text-end\">總計</td>\n                      <td class=\"text-end\">{{ orderInfo.total }}</td>\n                    </tr>\n                  </tfoot>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n            關閉\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('modify-order')\">\n            送出\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: '',\n      orderInfo: {\n        user: {},\n        products: {},\n      },\n    };\n  },\n  props: {\n    order: {\n      type: Object,\n      default() {\n        return {\n          user: {},\n          products: {},\n        };\n      },\n    },\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n  watch: {\n    order() {\n      this.orderInfo = this.order;\n      if (!this.orderInfo.user) {\n        this.orderInfo.user = {};\n      }\n\n      if (!this.order.products) {\n        this.orderInfo.products = {};\n      }\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.product-list {\n  img {\n    max-height: 60px;\n  }\n\n  td {\n    vertical-align: middle;\n  }\n}\n</style>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=29ee09fe&scoped=true\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport \"./OrderModal.vue?vue&type=style&index=0&id=29ee09fe&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-29ee09fe\"\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=7a713a81\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderModal.vue?vue&type=style&index=0&id=29ee09fe&lang=scss&scoped=true\""],"sourceRoot":""}